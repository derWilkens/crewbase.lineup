<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<window xmlns="http://schemas.haulmont.com/cuba/window.xsd"
        caption="msg://editorCaption"
        class="eu.crewbase.lineup.web.crewchangecreatedto.CrewChangeCreateDTOEdit"
        datasource="crewChangeCreateDTODs"
        messagesPack="eu.crewbase.lineup.web.crewchangecreatedto">
    <dsContext>
        <datasource id="crewChangeCreateDTODs"
                    class="eu.crewbase.lineup.entity.dto.CrewChangeCreateDTO"/>
        <datasource id="crewChangeDs"
                    class="eu.crewbase.lineup.entity.wayfare.CrewChange"
                    view="crewChange-transfer-waypoint-edit-view"/>
        <collectionDatasource id="sitesDs"
                              class="eu.crewbase.lineup.entity.coredata.Site"
                              view="site-view-airport">
            <query>
                <![CDATA[select e from lineup$Site e where e.category.name = 'Airport']]>
            </query>
        </collectionDatasource>
        <collectionDatasource id="platformDs"
                              class="eu.crewbase.lineup.entity.coredata.Site"
                              view="_local">
            <query>
                <![CDATA[select e from lineup$Site e where e.category.name = 'Platform']]>
            </query>
        </collectionDatasource>
        <collectionDatasource id="craftTypesDs"
                              class="eu.crewbase.lineup.entity.coredata.CraftType"
                              view="_local">
            <query>
                <![CDATA[select e from lineup$CraftType e]]>
            </query>
        </collectionDatasource>
    </dsContext>
    <dialogMode closeable="true"
                forceDialog="true"
                height="600"
                resizable="true"
                width="800"/>
    <layout expand="windowActions"
            spacing="true">
        <vbox spacing="true">
            <groupBox caption="Take Off"
                      orientation="horizontal"
                      spacing="true">
                <dateField id="fligthDate"
                           datasource="crewChangeCreateDTODs"
                           property="startDateTime"
                           resolution="DAY"
                           responsive="true"/>
                <timeField id="takeOff"
                           datasource="crewChangeCreateDTODs"
                           property="startDateTime"/>
            </groupBox>
            <groupBox caption="Trip"
                      orientation="horizontal"
                      spacing="true">
                <lookupField id="departure"
                             caption="Departure "
                             captionProperty="siteName"
                             datasource="crewChangeCreateDTODs"
                             inputPrompt="(start typing...)"
                             nullOptionVisible="false"
                             optionsDatasource="sitesDs"
                             property="departureSite"/>
                <lookupField id="destination"
                             caption="Main Destination"
                             datasource="crewChangeCreateDTODs"
                             inputPrompt="(start typing...)"
                             nullOptionVisible="false"
                             optionsDatasource="platformDs"
                             property="destinationSite"/>
            </groupBox>
        </vbox>
        <groupBox>
            <lookupField id="craftType"
                         datasource="crewChangeCreateDTODs"
                         inputPrompt="Helicopter Type"
                         optionsDatasource="craftTypesDs"
                         property="craftType"/>
            <groupBox caption="Booked Seats"
                      orientation="horizontal"
                      spacing="true">
                <textField id="occupiedSeatsOutbound"
                           caption="Outbound"
                           datasource="crewChangeCreateDTODs"
                           icon="font-icon:ARROW_UP"
                           property="bookedSeatsOutbound"/>
                <textField id="occupiedSeatsInbound"
                           caption="Inbound"
                           datasource="crewChangeCreateDTODs"
                           datatype="int"
                           icon="font-icon:ARROW_DOWN"
                           property="bookedSeatsInbound"/>
            </groupBox>
        </groupBox>
        <frame id="windowActions"
               screen="editWindowActions"/>
    </layout>
</window>
